"use strict";(globalThis["webpackChunkgenius"]=globalThis["webpackChunkgenius"]||[]).push([[389],{6389:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Ce});t(702);var l=t(9835),i=t(6970);const a={class:"column flex-center bg"},n={class:"game"},o={class:"row"},c={class:"row"},r={class:"menu"},d={key:0,class:"score"},u={key:1,class:"column"},m={class:"row justify-center"},h={class:"score"},g={class:"row justify-center items-center"},p={key:2,class:"column"},f={class:"row justify-center items-baseline"},w={class:"record-text"},_=(0,l._)("div",{class:"text-h6"},"Settings",-1),v={class:"row items-center"},y={class:"q-mr-sm"},k=(0,l._)("span",{class:"help"},"?",-1),q=(0,l.Uk)(" Duration in milliseconds of color active "),C={class:"row items-center"},b={class:"q-mr-sm"},S=(0,l._)("span",{class:"help"},"?",-1),W=(0,l.Uk)(" Duration in milliseconds of interval until next color plays "),x={class:"row items-center"},V={class:"q-mr-sm"},D=(0,l._)("span",{class:"help"},"?",-1),U=(0,l.Uk)(" Duration in milliseconds of interval until next round starts when player has finished the sequence"),L=(0,l._)("br",null,null,-1),Z=(0,l.Uk)(" (recommended is be slightly greater than frequency + delay) "),T={class:"row items-center"},j={class:"q-mr-sm"},z=(0,l._)("span",{class:"help"},"?",-1),Q=(0,l.Uk)(" For avoid accidentally click twice"),A=(0,l._)("br",null,null,-1),I=(0,l.Uk)(" (if you do not want this just set to 0) "),O=(0,l._)("div",{class:"text-h6"},"High Scores",-1),R={class:"q-pa-md"},B={key:1,class:"highscore"},G={class:"row items-end"},H={class:"highscore-value"},K={class:"column"},J={class:"highscore-info"},N={class:"highscore-info"},Y={class:"q-pa-md"},E={key:0},F=(0,l.Uk)(" ("),M=(0,l.Uk)(" ??)"),$={key:1};function P(e,s,t,P,X,ee){const se=(0,l.up)("q-icon"),te=(0,l.up)("q-card-section"),le=(0,l.up)("q-tooltip"),ie=(0,l.up)("q-badge"),ae=(0,l.up)("q-slider"),ne=(0,l.up)("q-btn"),oe=(0,l.up)("q-card-actions"),ce=(0,l.up)("q-card"),re=(0,l.up)("q-dialog"),de=(0,l.up)("q-item-section"),ue=(0,l.up)("q-item"),me=(0,l.up)("q-list"),he=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)("div",a,[(0,l._)("div",n,[(0,l._)("div",o,[(0,l._)("div",{ref:"red",class:"btn red",onClick:s[0]||(s[0]=s=>e.press("r"))},null,512),(0,l._)("div",{ref:"green",class:"btn green",onClick:s[1]||(s[1]=s=>e.press("g"))},null,512)]),(0,l._)("div",c,[(0,l._)("div",{ref:"blue",class:"btn blue",onClick:s[2]||(s[2]=s=>e.press("b"))},null,512),(0,l._)("div",{ref:"yellow",class:"btn yellow",onClick:s[3]||(s[3]=s=>e.press("y"))},null,512)]),(0,l._)("div",r,[1===e.state?((0,l.wg)(),(0,l.iD)("span",d,(0,i.zw)(e.score),1)):2===e.state?((0,l.wg)(),(0,l.iD)("div",u,[(0,l._)("div",m,[(0,l._)("span",h,(0,i.zw)(e.score),1)]),(0,l._)("div",g,[(0,l.Wm)(se,{onClick:e.start,class:"retry-btn",name:"refresh"},null,8,["onClick"]),(0,l.Wm)(se,{onClick:e.showSeq,class:"question-btn",name:"question_mark"},null,8,["onClick"]),(0,l.Wm)(se,{onClick:e.menu,class:"home-btn",name:"home"},null,8,["onClick"])])])):((0,l.wg)(),(0,l.iD)("div",p,[(0,l._)("div",{class:"row justify-center play",onClick:s[4]||(s[4]=(...s)=>e.start&&e.start(...s))},[(0,l.Wm)(se,{name:"play_arrow"})]),(0,l._)("div",f,[(0,l.Wm)(se,{name:"settings",class:"settings",onClick:e.settings},null,8,["onClick"]),(0,l._)("span",{class:"row justify-center items-center record",onClick:s[5]||(s[5]=(...s)=>e.records&&e.records(...s))},[(0,l.Wm)(se,{name:"emoji_events"}),(0,l._)("span",w,(0,i.zw)(e.bestScore),1)])])]))])]),(0,l.Wm)(re,{modelValue:e.dialogSettings,"onUpdate:modelValue":s[10]||(s[10]=s=>e.dialogSettings=s),"transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(ce,{class:"card-dialog"},{default:(0,l.w5)((()=>[(0,l.Wm)(te,null,{default:(0,l.w5)((()=>[_])),_:1}),(0,l.Wm)(te,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l._)("span",y,"Frequency (ms) "+(0,i.zw)(e.f),1),(0,l.Wm)(ie,{rounded:""},{default:(0,l.w5)((()=>[k,(0,l.Wm)(le,{anchor:"center right",self:"center left",offset:[4,4]},{default:(0,l.w5)((()=>[q])),_:1})])),_:1})]),(0,l.Wm)(ae,{modelValue:e.f,"onUpdate:modelValue":s[6]||(s[6]=s=>e.f=s),min:50,max:1e3,step:50,label:"",onChange:e.saveSettings},null,8,["modelValue","onChange"]),(0,l._)("div",C,[(0,l._)("span",b,"Delay (ms) "+(0,i.zw)(e.d),1),(0,l.Wm)(ie,{rounded:""},{default:(0,l.w5)((()=>[S,(0,l.Wm)(le,{anchor:"center right",self:"center left",offset:[4,4]},{default:(0,l.w5)((()=>[W])),_:1})])),_:1})]),(0,l.Wm)(ae,{modelValue:e.d,"onUpdate:modelValue":s[7]||(s[7]=s=>e.d=s),min:50,max:1e3,step:50,label:"",onChange:e.saveSettings},null,8,["modelValue","onChange"]),(0,l._)("div",x,[(0,l._)("span",V,"Round Delay (ms) "+(0,i.zw)(e.rd),1),(0,l.Wm)(ie,{rounded:""},{default:(0,l.w5)((()=>[D,(0,l.Wm)(le,{anchor:"center right",self:"center left",offset:[4,4]},{default:(0,l.w5)((()=>[U,L,Z])),_:1})])),_:1})]),(0,l.Wm)(ae,{modelValue:e.rd,"onUpdate:modelValue":s[8]||(s[8]=s=>e.rd=s),min:50,max:2e3,"inner-min":e.f+e.d,step:50,label:"",onChange:e.saveSettings},null,8,["modelValue","inner-min","onChange"]),(0,l._)("div",T,[(0,l._)("span",j,"Click Limit (ms) "+(0,i.zw)(e.clickLimit),1),(0,l.Wm)(ie,{rounded:""},{default:(0,l.w5)((()=>[z,(0,l.Wm)(le,{anchor:"center right",self:"center left",offset:[4,4]},{default:(0,l.w5)((()=>[Q,A,I])),_:1})])),_:1})]),(0,l.Wm)(ae,{modelValue:e.clickLimit,"onUpdate:modelValue":s[9]||(s[9]=s=>e.clickLimit=s),min:0,max:300,step:10,label:"",onChange:e.saveSettings},null,8,["modelValue","onChange"])])),_:1}),(0,l.Wm)(oe,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(ne,{flat:"",label:"OK",color:"primary"},null,512),[[he]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(re,{modelValue:e.dialogRecords,"onUpdate:modelValue":s[11]||(s[11]=s=>e.dialogRecords=s),"transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(ce,{class:"card-dialog"},{default:(0,l.w5)((()=>[(0,l.Wm)(te,null,{default:(0,l.w5)((()=>[O])),_:1}),(0,l.Wm)(te,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l._)("div",R,[(0,l.Wm)(me,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.highScores,((e,s)=>((0,l.wg)(),(0,l.j4)(ue,{key:s},{default:(0,l.w5)((()=>[(0,l.Wm)(de,{avatar:""},{default:(0,l.w5)((()=>[s<3?((0,l.wg)(),(0,l.j4)(se,{key:0,class:(0,i.C_)("highscore-"+s),name:"emoji_events"},null,8,["class"])):((0,l.wg)(),(0,l.iD)("span",B,(0,i.zw)(s+1),1))])),_:2},1024),(0,l.Wm)(de,null,{default:(0,l.w5)((()=>[(0,l._)("div",G,[(0,l._)("span",H,(0,i.zw)(e.score),1),(0,l._)("div",K,[(0,l._)("span",J,(0,i.zw)(e.date),1),(0,l._)("span",N,"("+(0,i.zw)(e.settings)+")",1)])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])])),_:1}),(0,l.Wm)(oe,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(ne,{flat:"",label:"OK",color:"primary"},null,512),[[he]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(re,{modelValue:e.dialogSequence,"onUpdate:modelValue":s[12]||(s[12]=s=>e.dialogSequence=s),"transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(ce,{class:"card-dialog"},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l._)("div",Y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.seq,((s,t)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:t},[(0,l._)("span",{class:(0,i.C_)("text-"+s)},(0,i.zw)(s.toUpperCase()),3),e.seqIndex===t?((0,l.wg)(),(0,l.iD)("span",E,[F,(0,l._)("span",{class:(0,i.C_)("text-"+e.blunder)},(0,i.zw)(e.blunder.toUpperCase()),3),M])):(0,l.kq)("",!0),t+1<e.seq.length?((0,l.wg)(),(0,l.iD)("span",$," - ")):(0,l.kq)("",!0)],64)))),128))])])),_:1}),(0,l.Wm)(oe,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(ne,{flat:"",label:"OK",color:"primary"},null,512),[[he]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var X=t(1458);const ee=()=>["r","g","b","y"][Math.floor(4*Math.random())],se={r:"red",g:"green",b:"blue",y:"yellow"},te={red:"../Genius/audio/red.mp3",green:"../Genius/audio/green.mp3",blue:"../Genius/audio/blue.mp3",yellow:"../Genius/audio/yellow.mp3",gameover:"../Genius/audio/gameover.mp3"},le=JSON.parse(localStorage.settings||"{}"),ie=JSON.parse(localStorage.scores||"[]").slice(0,999),ae=(0,l.aZ)({name:"Genius",data:()=>({seq:[],state:0,playing:!1,seqIndex:0,blunder:"",f:le.f||350,d:le.d||200,rd:le.rd||750,clickLimit:le.clickLimit||100,scores:ie,dialogSettings:!1,dialogRecords:!1,dialogSequence:!1,lastTimeoutColor:null,clickLimitBlocked:!1}),computed:{score(){return(this.seq.length||1)-1},bestScore(){return(this.scores.reduce(((e,s)=>s.score>e?s.score:e),0)+"").padStart(2,"0")},highScores(){return[...this.scores].sort(((e,s)=>e.score<s.score?1:-1))}},methods:{start(){this.state=1,this.seq=[],this.deactivateAll(),this.next()},next(){this.seq=[...this.seq,ee()],this.playing=!0,this.seqIndex=0,setTimeout((()=>this.playSeq()),this.rd)},playSeq(e=0){const s=this.seq[e];s?(this.playColor(se[s]),setTimeout((()=>this.playSeq(e+1)),this.f+this.d)):this.playing=!1},press(e){if(!this.playing&&2!==this.state&&!this.clickLimitBlocked)if(this.clickLimitBlocked=!0,setTimeout((()=>{this.clickLimitBlocked=!1}),this.clickLimit),0!==this.state){if(this.seq[this.seqIndex]===e)return this.playColor(se[e]),this.seqIndex+=1,void(this.seqIndex===this.seq.length&&this.next());this.blunder=e,this.gameover()}else this.playColor(se[e])},gameover(){this.state=2,this.gameoverSequence(),this.saveRecord()},gameoverSequence(){this.playAudio("gameover");for(let e=0;e<4;e++)setTimeout((()=>{2===this.state&&(e%2?this.deactivateAll():this.activateAll())}),500*e)},playColor(e){this.deactivateAll(),this.activate(e),this.playAudio(e),this.lastTimeoutColor&&clearTimeout(this.lastTimeoutColor),this.lastTimeoutColor=setTimeout((()=>{2!==this.state&&this.deactivate(e)}),this.f)},playAudio(e){new X.Howl({src:te[e],html5:!0}).play()},activate(e){this.$refs[e].classList.add(e+"-active")},activateAll(){Object.values(se).forEach((e=>this.activate(e)))},deactivate(e){this.$refs[e].classList.remove(e+"-active")},deactivateAll(){Object.values(se).forEach((e=>this.deactivate(e)))},menu(){this.deactivateAll(),this.state=0},settings(){this.dialogSettings=!0},saveSettings(){this.rd=this.f+this.d>this.rd?this.f+this.d:this.rd,localStorage.settings=JSON.stringify({f:this.f,d:this.d,rd:this.rd,clickLimit:this.clickLimit})},records(){this.dialogRecords=!0},saveRecord(){this.scores=[...this.scores,{score:this.score,settings:[this.f,this.d,this.rd].join("|"),date:(new Date).toISOString().split("T")[0]}],localStorage.scores=JSON.stringify(this.highScores)},showSeq(){this.dialogSequence=!0}}});var ne=t(1639),oe=t(2857),ce=t(3997),re=t(4458),de=t(3190),ue=t(990),me=t(7048),he=t(509),ge=t(1821),pe=t(8254),fe=t(3246),we=t(490),_e=t(1233),ve=t(2146),ye=t(9984),ke=t.n(ye);const qe=(0,ne.Z)(ae,[["render",P]]),Ce=qe;ke()(ae,"components",{QIcon:oe.Z,QDialog:ce.Z,QCard:re.Z,QCardSection:de.Z,QBadge:ue.Z,QTooltip:me.Z,QSlider:he.Z,QCardActions:ge.Z,QBtn:pe.Z,QList:fe.Z,QItem:we.Z,QItemSection:_e.Z}),ke()(ae,"directives",{ClosePopup:ve.Z})}}]);